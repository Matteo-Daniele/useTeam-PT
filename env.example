# ===========================================
# CONFIGURACIÓN DEL PROYECTO KANBAN TRELLO
# ===========================================

# ===========================================
# BASE DE DATOS MONGODB
# ===========================================
# URI de conexión a MongoDB
# Formato: mongodb://[usuario:contraseña@]host:puerto/nombre_base_datos
MONGODB_URI=mongodb://localhost:27017/kanban-board

# ===========================================
# BACKEND NESTJS
# ===========================================
# Puerto donde correrá el servidor backend
PORT=3000

# URL del frontend para configuración CORS
FRONTEND_URL=http://localhost:5173

# URL del webhook de N8N para exportación
# IMPORTANTE: Esta URL debe coincidir con el webhook configurado en N8N
N8N_WEBHOOK_URL=http://n8n:5678/webhook-test/trello-backlog

# ===========================================
# FRONTEND REACT/VITE
# ===========================================
# URL base de la API del backend
# IMPORTANTE: No incluir /api al final, el backend no usa ese prefijo
VITE_API_URL=http://localhost:3000

# URL del WebSocket para conexión en tiempo real
VITE_WS_URL=ws://localhost:3000

# ===========================================
# N8N AUTOMATIZACIÓN
# ===========================================
# Host donde correrá N8N (usado en docker-compose)
N8N_HOST=n8n

# Puerto donde correrá N8N
N8N_PORT=5678

# Protocolo para N8N
N8N_PROTOCOL=http

# Zona horaria para N8N
GENERIC_TIMEZONE=Europe/Madrid

# ===========================================
# CONFIGURACIÓN DE EMAIL (PARA N8N)
# ===========================================
# Configuración SMTP para envío de emails desde N8N
# Estos valores se configuran en el nodo Email de N8N

# Gmail SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=tu-email@gmail.com
SMTP_PASSWORD=tu_contraseña_de_aplicacion

# ===========================================
# CONFIGURACIÓN DE DESARROLLO
# ===========================================
# Entorno de ejecución
NODE_ENV=development

# Habilitar logs detallados
DEBUG=true

# ===========================================
# NOTAS IMPORTANTES
# ===========================================
# 1. Para Gmail, necesitas una "contraseña de aplicación":
#    - Ve a https://myaccount.google.com/
#    - Seguridad → Verificación en 2 pasos (debe estar activada)
#    - Contraseñas de aplicaciones → Generar contraseña para "n8n"
#    - Usa esa contraseña de 16 caracteres en SMTP_PASSWORD
#
# 2. El webhook de N8N debe estar configurado y activo
#    - URL: http://n8n:5678/webhook-test/trello-backlog
#    - Método: POST
#    - Content-Type: application/json
#
# 3. MongoDB debe estar corriendo antes que el backend
#    - Se inicia automáticamente con docker-compose
#
# 4. Los puertos deben estar disponibles:
#    - 3000: Backend NestJS
#    - 5173: Frontend Vite (o el siguiente disponible)
#    - 5678: N8N
#    - 27017: MongoDB
